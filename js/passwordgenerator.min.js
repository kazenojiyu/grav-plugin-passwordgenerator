var chars_type={},list_params=$('#passwords_generator_char_types input[type=checkbox]'),pwd_length=$('#passwords_generator_char_number'),pwd_number=$('#passwords_generator_number'),text_field=$('#form-password .text'),cache_field=$('.strength-wrapper .cache'),weight={10:3.32,16:4,26:4.7,36:5.17,52:5.7,62:5.95,70:6.13,90:6.49};function init_array_chars_type(){chars_type.total=0,$.each(list_params,function(c,d){chars_type[d.id]=d.checked?d.getAttribute('nb'):0,chars_type.total+=d.checked?parseInt(d.getAttribute('nb'),10):0}),strength_calculator()}function string_shuffle(c){let d=c.split('').sort(function(){return .5<Math.random()?-1:1});return d.join('')}function strength_calculator(){var c=parseInt(pwd_length.val(),10),d=parseInt(chars_type.total,10),f=0,g=0;$.each(weight,function(h,j){return d>f&&d<=h?(g=j,!1):void(f=h)}),result=Math.round(c*g),percent=0,64>=result?(percent=25,text_field.html(text_field.attr('very-weak'))):80>=result?(percent=50,text_field.html(text_field.attr('weak'))):100>=result?(percent=75,text_field.html(text_field.attr('medium'))):100<result&&(percent=100,text_field.html(text_field.attr('strong'))),cache_field.css('width',100-percent+'%')}function show_result(c){if(0!=c.length){let d=$('#list');d.html('');for(let g,f=0;f<c.length;f++)g='<div>'+c[f]+'</div>',d.append(g)}}$(document).ready(function(){init_array_chars_type(),list_params.on('click',function(){chars_type[$(this).attr('id')]=$(this).is(':checked')?parseInt($(this).attr('nb'),10):0,chars_type.total+=$(this).is(':checked')?parseInt($(this).attr('nb'),10):-parseInt($(this).attr('nb'),10),strength_calculator()}),$('#passwords_generator_char_number').on('change',function(){strength_calculator()}),$('#form-password').on('submit',function(c){c.preventDefault(),c.stopPropagation();let d='',f=[];$.each(list_params,function(h,j){if(!0===j.checked)switch(j.value){case'minuscules':d+='abcdefghijklmnopqrstuvwxyz';break;case'majuscules':d+='ABCDEFGHIJKLMNOPQRSTUVWXYZ';break;case'chiffres':d+='0123456789';break;case'speciaux':d+='.,;:+=!?&$#%@{}[]()*\'';}});let g=parseInt(pwd_length.val(),10);for(let h=0;h<parseInt(pwd_number.val(),10);h++)f.push(string_shuffle(d).substr(0,g));show_result(f)})});